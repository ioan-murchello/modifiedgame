let isEqual,first_card,second_card,hasFlipped=!1,boardLock=!1,total_curency=0,total_curency_two=0,firstSumAttribure=0,secondSumAttribute=0,first_player_current_sum=0,second_player_current_sum=0,summer=0,playground_wrapper=document.querySelectorAll(".playground_wrapper"),inner_game_wrapper=document.querySelectorAll(".inner_game_wrapper"),playerss=document.querySelectorAll(".blocks_style"),cards_sum=document.querySelectorAll(".sum"),cardsss=document.querySelectorAll(".card_body"),game=document.querySelector(".main_menu"),game_wrapper=document.querySelector(".game_wrapper"),small_menu=document.querySelector(".small_menu"),restart=small_menu.querySelector(".restart"),go_to_menu=small_menu.querySelector(".go_to_menu"),first_curr=document.querySelector(".first_curr");first_curr.textContent=first_player_current_sum;let sec_curr=document.querySelector(".sec_curr");sec_curr.textContent=second_player_current_sum;let checkbox_input=document.querySelector(".inpt"),checked_unchecked=checkbox_input.checked;console.log(checked_unchecked),game_wrapper.append(game);let players=document.querySelector(".players"),sum_of_cards=document.querySelector(".game_cards"),start_btn=document.querySelector(".btn");function toggler(e,t,r){document.querySelectorAll(e).forEach((e=>{e.classList.contains(t)?e.classList.remove(t):r.classList.add(t)}))}function flipCard(e){if(boardLock)return;let t=e.target.parentElement;t.classList.add("flip"),t!==first_card&&(hasFlipped?(hasFlipped=!1,second_card=t,checkForMatch()):(hasFlipped=!0,first_card=t))}function checkForMatch(){isEqual=first_card.getAttribute("data-card")===second_card.getAttribute("data-card"),isEqual?(total_curency++,total_curency_two++,summer=0):flippedCards(),1==firstSumAttribure&&8==secondSumAttribute&&4==total_curency&&setTimeout((()=>{game_wrapper.append(small_menu),small_menu.classList.add("opacityout","show"),small_menu.classList.remove("hide")}),1e3),1==firstSumAttribure&&16==secondSumAttribute&&8==total_curency_two&&setTimeout((()=>{game_wrapper.append(small_menu),small_menu.classList.add("opacityout","show"),small_menu.classList.remove("hide")}),1e3)}function disableCards(){first_card.removeEventListener("click",flipCard),second_card.removeEventListener("click",flipCard)}function flippedCards(){boardLock=!0,setTimeout((()=>{first_card.classList.remove("flip"),second_card.classList.remove("flip"),resetBoard()}),1500)}function resetBoard(){hasFlipped=boardLock=!1,first_card=second_card=null,sec_curr.classList.add("cur_sum")}function gameStart(){let e=document.querySelectorAll(".card_body");e.forEach((t=>{t.addEventListener("click",flipCard);let r=Math.floor(Math.random()*e.length);t.style.order=r}))}function removeFlipClass(e,t){e.length>1?e.forEach((e=>{e.classList.remove(t),e.removeEventListener("click",flipCard)})):e.classList.remove(t)}function restarter(){4==total_curency&&(removeFlipClass(cardsss,"flip"),small_menu.classList.remove("show"),small_menu.classList.add("hide"),total_curency=0,total_curency_two=0),8==total_curency_two&&(removeFlipClass(cardsss,"flip"),small_menu.classList.remove("show"),small_menu.classList.add("hide"),total_curency=0,total_curency_two=0,first_player_current_sum=0,second_player_current_sum=0,first_curr.textContent=first_player_current_sum=0),hasFlipped=boardLock=!1,first_card=second_card=null,hasFlipped=!1,boardLock=!1,isEqual=null,setTimeout((()=>{gameStart()}),300)}game.addEventListener("click",(e=>{let t=e.target;t.classList.contains("blocks_style")&&(firstSumAttribure=t.getAttribute("data-player"),toggler(".blocks_style","for_btn",t)),t.classList.contains("sum")&&(secondSumAttribute=t.getAttribute("data-card"),toggler(".sum","for_btn",t))})),start_btn.addEventListener("click",(function(){start_btn.classList.add("for_btn"),setTimeout((function(){1==firstSumAttribure&&8==secondSumAttribute&&(game.classList.add("opac"),setTimeout((function(){game_wrapper.removeChild(game),game.classList.remove("opac")}),400),setTimeout((function(){game_wrapper.append(inner_game_wrapper[0]),inner_game_wrapper[0].classList.remove("hide"),inner_game_wrapper[0].classList.add("show"),start_btn.classList.remove("for_btn")}),1e3)),1==firstSumAttribure&&16==secondSumAttribute&&(game.classList.add("opac"),setTimeout((function(){game_wrapper.removeChild(game),game.classList.remove("opac")}),400),inner_game_wrapper[1].querySelectorAll(".card_body").forEach((e=>{e.classList.add("dwa")})),setTimeout((function(){game_wrapper.append(inner_game_wrapper[1]),inner_game_wrapper[1].classList.remove("hide"),inner_game_wrapper[1].classList.add("show"),start_btn.classList.remove("for_btn")}),1e3)),game.classList.contains("hide")&&(console.log("okkk"),playerss.forEach((e=>{e.classList.remove("for_btn")})),cards_sum.forEach((e=>{e.classList.remove("for_btn")}))),gameStart()}),500)})),restart.addEventListener("click",(()=>{small_menu.classList.add("show"),restarter()})),go_to_menu.addEventListener("click",(function(){hasFlipped=boardLock=!1,first_card=second_card=null,hasFlipped=!1,boardLock=!1,isEqual=null,small_menu.classList.remove("show"),small_menu.classList.add("hide"),inner_game_wrapper.forEach((e=>{e.classList.remove("show"),e.classList.add("hide")})),game_wrapper.append(game),game.classList.add("opacityout","show"),game.classList.remove("opacity","hide"),setTimeout((()=>{game.classList.remove("opacity","opacityout")}),300),restarter()}));